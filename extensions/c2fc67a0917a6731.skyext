const message = require('message');
const extension = require('extension');
const utils = require('utils');
const embed = require('embed');

const baseReward = 100;
const streakBonus = 25;

// Simulate streak (in real implementation, use extension.storage)
const streak = utils.random.int(1, 30);
const reward = baseReward + (streak * streakBonus);

const milestones = {
	7: 'ğŸ Weekly Bonus: +500!',
	30: 'ğŸ† Monthly Bonus: +2000!',
	100: 'ğŸ‘‘ Century Bonus: +10000!'
};

let bonusText = '';
if (milestones[streak]) {
	bonusText = '\n\n' + milestones[streak];
}

message.reply({
	embeds: [embed.create({
		title: 'ğŸ“… Daily Reward Claimed!',
		description: utils.discord.bold('Base Reward:') + ' ğŸ’° ' + utils.format.number(baseReward) + '\n' +
			utils.discord.bold('Streak Bonus:') + ' ğŸ”¥ +' + utils.format.number(streak * streakBonus) + '\n' +
			utils.discord.bold('Total:') + ' ğŸ’ ' + utils.format.number(reward) + bonusText + '\n\n' +
			'ğŸ”¥ ' + utils.discord.bold('Current Streak:') + ' ' + streak + ' days',
		color: 0xf1c40f,
		thumbnail: { url: 'https://cdn.discordapp.com/emojis/836329015009329212.gif' },
		footer: { text: 'Come back tomorrow to continue your streak!' }
	}]
});